!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Stego",[],e):"object"==typeof exports?exports.Stego=e():t.Stego=e()}(self,(()=>(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{decode_LSB_Stenography:()=>a,default:()=>r,encode_LSB_Stenography:()=>n});var o={};function n(t,e,o){const n=document.createElement("canvas"),a=n.getContext("2d"),r=new Image;r.src=t,r.onload=function(){n.height=r.height,n.width=r.width,a.drawImage(r,0,0,r.width,r.height);const t=a.getImageData(0,0,n.width,n.height);!function(t,e){let o=0,n=0;for(let r=0,d=t.length;r<d;r++){if(0===r){const t=4*d;if(console.info("Secret Length("+d+"x4): "+t),t>255){const a=t/255;if(a%1==0)for(n=0;n<a;n++)e.data[n]=255,o++;else{const t=a.toString().split(".")[0];for(a.toString().split(".")[1],n=0;n<t;n++)e.data[n]=255,o++;const r=Math.round(255*(a-t));console.info("numberLeft: "+r),e.data[n]=r,o++}}else e.data[0]=t,o++}const i=t[r],c=(12&i)>>2,f=(48&i)>>4,g=(192&i)>>6;a(3&i),a(c),a(f),a(g)}function a(t){e.data[o]=252&e.data[o]|t,o++}}((new TextEncoder).encode(e),t),n.getContext("2d").putImageData(t,0,0),o(n.toDataURL("image/png"))}}function a(t,e){const o=document.createElement("canvas"),n=o.getContext("2d"),a=new Image;a.src=t,a.onload=function(){o.height=a.height,o.width=a.width,n.drawImage(a,0,0,a.width,a.height);const t=n.getImageData(0,0,o.width,o.height);let r,d=0;for(let e=0,o=t.data.length;e<o;e++){if(255!==t.data[e]){d+=t.data[e],r=e;break}if(d+=t.data[e],t.data[e+1]<255){d+=t.data[e+1],r=e+1;break}}console.info("Total length: "+d+", Last Index: "+r);const i=d,c=new Uint8Array(d/4);let f=0;for(let e=r+1;e<i;e+=4){const o=3&t.data[e]|(3&t.data[e+1])<<2|(3&t.data[e+2])<<4|(3&t.data[e+3])<<6;c[f]=o,f++}e(function(t){let e="",o=0,n=0,a=0;const r=new Uint8Array(t);for(r.length>=3&&239===r[0]&&187===r[1]&&191===r[2]&&(o=3);o<r.length;)if(n=r[o],n<128)e+=String.fromCharCode(n),o++;else if(n>191&&n<224){if(o+1>=r.length)throw"UTF-8 Decode failed. Two byte character was truncated.";a=r[o+1],e+=String.fromCharCode((31&n)<<6|63&a),o+=2}else{if(o+2>=r.length)throw"UTF-8 Decode failed. Multi byte character was truncated.";a=r[o+1],c3=r[o+2],e+=String.fromCharCode((15&n)<<12|(63&a)<<6|63&c3),o+=3}return e}(c))}}t.r(o),t.d(o,{decode_LSB_Stenography:()=>a,encode_LSB_Stenography:()=>n});const r=o;return e})()));